<!DOCTYPE html>
<html lang="en">

    <!-- Basic -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">   
   
    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
 
     <!-- Site Metas -->
    <title>Pranava Fusion Pvt Ltd</title>  
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Site Icons -->
    <!-- Site Icons -->
    <link rel="shortcut icon" href="images/logos/1.png" >
    <link rel="apple-touch-icon" href="images/logos/1.png">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Site CSS -->
    <link rel="stylesheet" href="style.css">
    <!-- Responsive CSS -->
    <link rel="stylesheet" href="css/responsive.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/custom.css">

    <!-- Modernizer for Portfolio -->
    <script src="js/modernizer.js"></script>

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>
<body>

    <!-- LOADER -->
    <div id="preloader">
        <div class="loader">
			<div class="loader__bar"></div>
			<div class="loader__bar"></div>
			<div class="loader__bar"></div>
			<div class="loader__bar"></div>
			<div class="loader__bar"></div>
			<div class="loader__ball"></div>
		</div>
    </div><!-- end loader -->
    <!-- END LOADER -->
    
	<div class="top-bar">
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-6 col-sm-6">
					<div class="left-top">
						<div class="email-box">
							<a href="#"><i class="fa fa-envelope-o" aria-hidden="true"></i> info@pranavafusion.com</a>
						</div>
						<div class="phone-box">
							<!--<a href="tel:1234567890"><i class="fa fa-phone" aria-hidden="true"></i> +1 234 567 890</a>-->
						</div>
					</div>
				</div>
				<div class="col-md-6 col-sm-6">
					<div class="right-top">
						<div class="social-box">
							<ul>
								<!-- <li><a href="#"><i class="fa fa-facebook-square" aria-hidden="true"></i></a></li>
								<li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li> -->
								<li><a href="#"><i class="fa fa-linkedin-square" aria-hidden="true"></i></a></li>
								<!-- <li><a href="#"><i class="fa fa-twitter-square" aria-hidden="true"></i></a></li>
								<li><a href="#"><i class="fa fa-rss-square" aria-hidden="true"></i></a></li> -->
							<ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
    <header class="header header_style_01">
        <nav class="megamenu navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html"><img src="images/logos/2.png" alt="image" style="width: 180px; height: auto;"></a>
                </div>
                <div id="navbar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="services.html">Our Services</a></li>
                        <li><a href="industries.html">Industries</a></li>
                        <li><a class="active" href="pricing.html">Pricing</a></li>
						<li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <div class="banner-area banner-bg-1">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div class="banner">
						<h2>3D Model Viewer</h2>
						<ul class="page-title-link">
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>


    <div id="about" class="section wb">
        <div class="container">
			<div class="section-title text-center">
                <p class="lead"> Currently only viewing of the file is allowed. We apologize for the invconvinience. Thank you for your patience!</p>
            </div><!-- end title -->

            <!-- 3D Viewer Section -->
<section id="model-viewer-section" style="margin-top: 40px; background-color: rgb(22, 22, 22); border: 1px solid #ff9800; border-radius: 12px; padding: 30px; height: auto; width: auto">

        <!-- Main horizontal container -->
        <div class="container" style="display: flex; flex-direction: row; align-items: flex-start; gap: 40px; padding: 0 40px;">
      
          <!-- Left side: File input, metrics, and costing section stacked vertically -->
          <div style="display: flex; flex-direction: column; gap: 16px; width: 250px;">
            <!-- File input -->
            <input type="file" id="fileInput" accept=".stl,.obj,.step"
              style="padding: 10px; background-color: rgb(44, 44, 44); color: #ffffff; border: 0.1px solid #ff9800; border-radius: 5px; cursor: pointer; font-size: 16px; width: 100%;" />
      
            <!-- Metrics panel -->
            <div id="metrics" style="font-size: 14px; color: #ffffff; background-color: rgb(44, 44, 44); border: 1px solid #ff9800; padding: 16px; border-radius: 8px; height: 190px; width: 100%;">
              <p><strong>Dimensions:</strong></p>
              <p id="dimensions">Length: - mm, Width: - mm, Height: - mm</p>
              <p>Volume: <span id="volume">-</span> cc</p>
              <p>Surface Area: <span id="surfaceArea">-</span> mm²</p>
            </div>
      
           <!-- Costing section -->
                <div id="costing" style="font-size: 14px; color: #ffffff; background-color: rgb(44, 44, 44); border: 1px solid #ff9800; padding: 16px; border-radius: 8px; height: 150px; width: 100%;">
                    <p><strong>Cost Estimate:</strong></p>
                    <p>Currency:</p>
                    <div style="display: flex; gap: 10px;">
                    <label><input type="radio" name="currency" value="INR" checked> ₹ INR</label>
                    <label><input type="radio" name="currency" value="USD"> $ USD</label>
                    </div>
                    <p>Total Cost: <span id="totalCost">-</span></p>
                </div>
  

            </div>
      
          <!-- Right side: 3D Viewer -->
          <div style="display: flex; flex-direction: column; gap: 16px;">
            <div id="viewer" style="width: 35vw; height: 42.22vh; background-color: #fffdfc; border-radius: 4px; border: 1px solid #ff9800;"></div>
          </div>
        </div>
      
        <!-- Loading Screen -->
        <div id="loadingScreen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #010a29; color: white; display: none; justify-content: center; align-items: center; z-index: 1000; font-size: 18px; flex-direction: column;">
          <div class="spinner" style="border: 4px solid #f3f3f3; border-top: 4px solid #ff9800; border-radius: 50%; width: 50px; height: 50px; animation: spin 2s linear infinite; margin-bottom: 10px;"></div>
          <span>Loading...</span>
        </div>
</section> 

</div>

    <footer class="footer" style="margin-top: 40px;">
        <div class="container">
            <div class="row">
                <div class="col-md-4 col-sm-4 col-xs-12">
                    <div class="widget clearfix">
                        <div class="widget-title">
                            <img src="images/logos/2.png" style="width: 250px; height: 100px;">
                        </div>
                        <p>At Pranava Fusion, we empower innovation with cutting-edge solutions, making us your trusted partner in rapid prototyping and manufacturing.</p>
                    </div>
                </div>

				<div class="col-md-4 col-sm-4 col-xs-12">
                    <div class="widget clearfix">
                        <div class="widget-title">
                            <h3>Pages</h3>
                        </div>

                        <ul class="footer-links hov">
                            <li><a href="#index.html">Home <span class="icon icon-arrow-right2"></span></a></li>
							<li><a href="services.html">Our services <span class="icon icon-arrow-right2"></span></a></li>
							<li><a href="industries.html">Industries <span class="icon icon-arrow-right2"></span></a></li>
							<li><a href="pricing.html">Pricing <span class="icon icon-arrow-right2"></span></a></li>
							<li><a href="contact.html">Contact <span class="icon icon-arrow-right2"></span></a></li>
                        </ul>
                    </div>
                </div>
				
                <div class="col-md-4 col-sm-4 col-xs-12">
                    <div class="footer-distributed widget clearfix">
                        <div class="widget-title">
                            <h3>Subscribe</h3>
                        </div>
						
						<div class="footer-right">
							<form method="get" action="#">
								<input placeholder="Subscribe our newsletter.." name="search">
								<i class="fa fa-envelope-o"></i>
							</form>
						</div>                        
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <div class="copyrights">
        <div class="container">
            <div class="footer-distributed">
                <div class="footer-left">                   
                    <p class="footer-company-name">All Rights Reserved. &copy; 2025 <a href="#">PRANAVA FUSION PRIVATE LIMITED</a>
                </div>

                
            </div>
        </div>
    </div>

    <a href="#" id="scroll-to-top" class="dmtop global-radius"><i class="fa fa-angle-up"></i></a>


    <script src="js/all.js"></script>

    <script src="js/custom.js"></script>
    <script src="js/portfolio.js"></script>
    <script src="js/hoverdir.js"></script>  
    <!-- Three.js and Loaders -->
<script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/loaders/STLLoader.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/loaders/OBJLoader.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
<script>
    const fileInput = document.getElementById('fileInput');
    const viewerDiv = document.getElementById('viewer');
    const loadingScreen = document.getElementById('loadingScreen');
  
    let scene, camera, renderer, controls;
    let currentVolume = 0;
  
    init();
    animate();
  
    function init() {
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(75, viewerDiv.clientWidth / viewerDiv.clientHeight, 0.1, 1000);
      camera.position.z = 100;
  
      renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setSize(viewerDiv.clientWidth, viewerDiv.clientHeight);
      viewerDiv.appendChild(renderer.domElement);
  
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
      scene.add(ambientLight);
  
      const pointLight = new THREE.PointLight(0xffffff, 1);
      pointLight.position.set(200, 200, 200);
      scene.add(pointLight);
  
      const gridHelper = new THREE.GridHelper(304.8, 12, 0x888888, 0x444444);
      gridHelper.position.y = -10;
      gridHelper.material.opacity = 0.5;
      gridHelper.material.transparent = true;
      scene.add(gridHelper);
  
      controls = new THREE.OrbitControls(camera, renderer.domElement);
  
      document.getElementById('currencySelect')?.addEventListener('change', () => {
        updateCosting(currentVolume);
      });
    }
  
    function animate() {
      requestAnimationFrame(animate);
      controls.update();
      renderer.render(scene, camera);
    }
  
    fileInput.addEventListener('change', (event) => {
      const file = event.target.files[0];
      if (!file) return;
  
      loadingScreen.style.display = 'flex';
      const extension = file.name.split('.').pop().toLowerCase();
  
      const reader = new FileReader();
      reader.onload = function(event) {
        const data = event.target.result;
  
        while (scene.children.length > 3) {
          scene.remove(scene.children[3]);
        }
  
        if (extension === 'stl') {
          const loader = new THREE.STLLoader();
          const geometry = loader.parse(data);
          const material = new THREE.MeshPhongMaterial({ color: 0xff9800 });
          const mesh = new THREE.Mesh(geometry, material);
          mesh.rotation.y = Math.PI / 2;
          centerAndScale(mesh);
          scene.add(mesh);
        } else if (extension === 'obj') {
          const loader = new THREE.OBJLoader();
          const obj = loader.parse(data);
          centerAndScale(obj);
          scene.add(obj);
        } else {
          alert('Unsupported file format!');
        }
  
        loadingScreen.style.display = 'none';
      };
  
      if (extension === 'stl') {
        reader.readAsArrayBuffer(file);
      } else if (extension === 'obj') {
        reader.readAsText(file);
      } else {
        alert('Unsupported file format!');
        loadingScreen.style.display = 'none';
      }
    });
  
    function centerAndScale(object) {
      const originalBox = new THREE.Box3().setFromObject(object);
      const center = originalBox.getCenter(new THREE.Vector3());
      const size = originalBox.getSize(new THREE.Vector3());
      const scale = 100 / size.length();
  
      object.position.sub(center);
      object.scale.set(scale, scale, scale);
  
      const tempScene = new THREE.Scene();
      tempScene.add(object);
      tempScene.updateMatrixWorld(true);
  
      const updatedBox = new THREE.Box3().setFromObject(object);
      const minY = updatedBox.min.y;
      object.position.y -= minY;
  
      const finalSize = updatedBox.getSize(new THREE.Vector3());
      const length = finalSize.x.toFixed(2);
      const width = finalSize.z.toFixed(2);
      const height = finalSize.y.toFixed(2);
  
      let volume = 0, surfaceArea = 0;
  
      object.traverse(child => {
        if (child.isMesh && child.geometry) {
          const geom = child.geometry.clone();
          geom.computeVertexNormals();
          const geometry = geom.toNonIndexed();
          const pos = geometry.attributes.position.array;
  
          for (let i = 0; i < pos.length; i += 9) {
            const ax = pos[i], ay = pos[i + 1], az = pos[i + 2];
            const bx = pos[i + 3], by = pos[i + 4], bz = pos[i + 5];
            const cx = pos[i + 6], cy = pos[i + 7], cz = pos[i + 8];
  
            const A = new THREE.Vector3(ax, ay, az);
            const B = new THREE.Vector3(bx, by, bz);
            const C = new THREE.Vector3(cx, cy, cz);
  
            volume += A.dot(B.clone().cross(C)) / 6;
  
            const AB = B.clone().sub(A);
            const AC = C.clone().sub(A);
            surfaceArea += AB.cross(AC).length() / 2;
          }
        }
      });
  
      const volumeCC = (Math.abs(volume) / 1000).toFixed(2);
      currentVolume = parseFloat(volumeCC);
      const surfaceMM = surfaceArea.toFixed(2);
  
      document.getElementById('dimensions').innerText = `Length: ${length} mm, Width: ${width} mm, Height: ${height} mm`;
      document.getElementById('volume').innerText = `${volumeCC}`;
      document.getElementById('surfaceArea').innerText = `${surfaceMM}`;
  
      updateCosting(currentVolume);
    }
  
    function updateCosting(volumeCc) {
        const rupeeRate = 50;
        const usdConversionRate = 0.012;
      
        const selectedCurrency = document.querySelector('input[name="currency"]:checked')?.value || 'INR';
      
        let rate, total;
      
        if (selectedCurrency === 'INR') {
          rate = rupeeRate;
          total = volumeCc * rate;
          document.getElementById('totalCost').innerText = `₹${total.toFixed(2)}`;
        } else {
          rate = rupeeRate * usdConversionRate;
          total = volumeCc * rate;
          document.getElementById('totalCost').innerText = `$${total.toFixed(2)}`;
        }
      }
      
      // Optional: call update when radio is changed
      document.querySelectorAll('input[name="currency"]').forEach(radio => {
        radio.addEventListener('change', () => {
          updateCosting(currentVolume); // Replace with actual volume variable
        });
      });
      
      
  // Spinner animation
  const style = document.createElement('style');
  style.innerHTML = `@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }`;
  document.head.appendChild(style);
</script>
</body>
</html> 